/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, HostBinding, Input, } from '@angular/core';
import { Cloudinary } from './cloudinary.service';
import { placeholderImageOptions, predominantColorTransformPxl } from './constants';
var CloudinaryPlaceHolder = /** @class */ (function () {
    function CloudinaryPlaceHolder(cloudinary) {
        this.cloudinary = cloudinary;
        this.options = {};
    }
    /**
     * @param {?} width
     * @return {?}
     */
    CloudinaryPlaceHolder.prototype.setWidth = /**
     * @param {?} width
     * @return {?}
     */
    function (width) {
        this.itemWidth = width;
    };
    /**
     * @param {?} height
     * @return {?}
     */
    CloudinaryPlaceHolder.prototype.setHeight = /**
     * @param {?} height
     * @return {?}
     */
    function (height) {
        this.itemHeight = height;
    };
    /**
     * @param {?} id
     * @return {?}
     */
    CloudinaryPlaceHolder.prototype.setPublicId = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        this.publicId = id;
    };
    /**
     * @return {?}
     */
    CloudinaryPlaceHolder.prototype.ngAfterContentChecked = /**
     * @return {?}
     */
    function () {
        this.placeholderImg = this.getPlaceholderImage();
    };
    /**
     * @return {?}
     */
    CloudinaryPlaceHolder.prototype.getPlaceholderImage = /**
     * @return {?}
     */
    function () {
        if (this.type === 'predominant-color' && this.itemHeight && this.itemWidth) {
            return this.cloudinary.url(this.publicId, { transformation: tslib_1.__spread([this.options], predominantColorTransformPxl) });
        }
        else {
            return this.cloudinary.url(this.publicId, { transformation: tslib_1.__spread([this.options], placeholderImageOptions[this.type] || placeholderImageOptions['blur']) });
        }
    };
    CloudinaryPlaceHolder.decorators = [
        { type: Component, args: [{
                    selector: 'cl-placeholder',
                    template: "<img [src]=\"this.placeholderImg\" [style.width.px]=\"this.itemWidth\" [style.height.px]=\"this.itemHeight\">",
                },] },
    ];
    /** @nocollapse */
    CloudinaryPlaceHolder.ctorParameters = function () { return [
        { type: Cloudinary }
    ]; };
    CloudinaryPlaceHolder.propDecorators = {
        type: [{ type: Input, args: ['type',] }],
        itemWidth: [{ type: HostBinding, args: ['style.width',] }],
        itemHeight: [{ type: HostBinding, args: ['style.height',] }],
        publicId: [{ type: HostBinding, args: ['attr.public-id',] }]
    };
    return CloudinaryPlaceHolder;
}());
export { CloudinaryPlaceHolder };
if (false) {
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.type;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.itemWidth;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.itemHeight;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.publicId;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.options;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.placeholderImg;
    /** @type {?} */
    CloudinaryPlaceHolder.prototype.cloudinary;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvdWRpbmFyeS1wbGFjZWhvbGRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AY2xvdWRpbmFyeS9hbmd1bGFyLTUueC8iLCJzb3VyY2VzIjpbImxpYi9jbG91ZGluYXJ5LXBsYWNlaG9sZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFFTCxTQUFTLEVBQ1QsV0FBVyxFQUNYLEtBQUssR0FDTixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFDaEQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLDRCQUE0QixFQUFFLE1BQU0sYUFBYSxDQUFDOztJQWdCbEYsK0JBQW9CLFVBQXNCO1FBQXRCLGVBQVUsR0FBVixVQUFVLENBQVk7dUJBSHhCLEVBQUU7S0FHMEI7Ozs7O0lBRTlDLHdDQUFROzs7O0lBQVIsVUFBUyxLQUFLO1FBQ1osSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7S0FDeEI7Ozs7O0lBRUQseUNBQVM7Ozs7SUFBVCxVQUFVLE1BQU07UUFDZCxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztLQUMxQjs7Ozs7SUFFRCwyQ0FBVzs7OztJQUFYLFVBQVksRUFBRTtRQUNaLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0tBQ3BCOzs7O0lBRUQscURBQXFCOzs7SUFBckI7UUFDRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0tBQ2xEOzs7O0lBRUQsbURBQW1COzs7SUFBbkI7UUFDRSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssbUJBQW1CLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQzFFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFDLGNBQWMsb0JBQUcsSUFBSSxDQUFDLE9BQU8sR0FBSyw0QkFBNEIsQ0FBQyxFQUFDLENBQUMsQ0FBQztTQUM5RzthQUFNO1lBQ0wsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUMsY0FBYyxvQkFBRyxJQUFJLENBQUMsT0FBTyxHQUFLLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSx1QkFBdUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQTtTQUN0SjtLQUNGOztnQkF0Q0YsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxnQkFBZ0I7b0JBQzFCLFFBQVEsRUFBRSwrR0FBeUc7aUJBRXBIOzs7O2dCQVBPLFVBQVU7Ozt1QkFTZixLQUFLLFNBQUMsTUFBTTs0QkFDWixXQUFXLFNBQUMsYUFBYTs2QkFDekIsV0FBVyxTQUFDLGNBQWM7MkJBQzFCLFdBQVcsU0FBQyxnQkFBZ0I7O2dDQWxCL0I7O1NBY2EscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgQ29tcG9uZW50LFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDbG91ZGluYXJ5fSBmcm9tICcuL2Nsb3VkaW5hcnkuc2VydmljZSc7XG5pbXBvcnQgeyBwbGFjZWhvbGRlckltYWdlT3B0aW9ucywgcHJlZG9taW5hbnRDb2xvclRyYW5zZm9ybVB4bCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY2wtcGxhY2Vob2xkZXInLFxuICB0ZW1wbGF0ZTogYDxpbWcgW3NyY109XCJ0aGlzLnBsYWNlaG9sZGVySW1nXCIgW3N0eWxlLndpZHRoLnB4XT1cInRoaXMuaXRlbVdpZHRoXCIgW3N0eWxlLmhlaWdodC5weF09XCJ0aGlzLml0ZW1IZWlnaHRcIj5gXG4gICxcbn0pXG5leHBvcnQgY2xhc3MgQ2xvdWRpbmFyeVBsYWNlSG9sZGVyIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50Q2hlY2tlZCB7XG4gIEBJbnB1dCgndHlwZScpIHR5cGU6IHN0cmluZztcbiAgQEhvc3RCaW5kaW5nKCdzdHlsZS53aWR0aCcpIGl0ZW1XaWR0aDtcbiAgQEhvc3RCaW5kaW5nKCdzdHlsZS5oZWlnaHQnKSBpdGVtSGVpZ2h0O1xuICBASG9zdEJpbmRpbmcoJ2F0dHIucHVibGljLWlkJykgcHVibGljSWQ7XG5cbiAgb3B0aW9uczogb2JqZWN0ID0ge307XG4gIHBsYWNlaG9sZGVySW1nOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjbG91ZGluYXJ5OiBDbG91ZGluYXJ5KSB7fVxuXG4gIHNldFdpZHRoKHdpZHRoKSB7XG4gICAgdGhpcy5pdGVtV2lkdGggPSB3aWR0aDtcbiAgfVxuXG4gIHNldEhlaWdodChoZWlnaHQpIHtcbiAgICB0aGlzLml0ZW1IZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICBzZXRQdWJsaWNJZChpZCkge1xuICAgIHRoaXMucHVibGljSWQgPSBpZDtcbiAgfVxuXG4gIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpIHtcbiAgICB0aGlzLnBsYWNlaG9sZGVySW1nID0gdGhpcy5nZXRQbGFjZWhvbGRlckltYWdlKCk7XG4gIH1cblxuICBnZXRQbGFjZWhvbGRlckltYWdlKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09ICdwcmVkb21pbmFudC1jb2xvcicgJiYgdGhpcy5pdGVtSGVpZ2h0ICYmIHRoaXMuaXRlbVdpZHRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG91ZGluYXJ5LnVybCh0aGlzLnB1YmxpY0lkLCB7dHJhbnNmb3JtYXRpb246IFt0aGlzLm9wdGlvbnMsIC4uLnByZWRvbWluYW50Q29sb3JUcmFuc2Zvcm1QeGxdfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3VkaW5hcnkudXJsKHRoaXMucHVibGljSWQsIHt0cmFuc2Zvcm1hdGlvbjogW3RoaXMub3B0aW9ucywgLi4ucGxhY2Vob2xkZXJJbWFnZU9wdGlvbnNbdGhpcy50eXBlXSB8fCBwbGFjZWhvbGRlckltYWdlT3B0aW9uc1snYmx1ciddXX0pXG4gICAgfVxuICB9XG59XG4iXX0=